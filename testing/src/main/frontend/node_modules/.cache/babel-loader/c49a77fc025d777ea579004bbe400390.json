{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport isVisible from './isVisible';\n\nfunction focusable(node) {\n  var includePositive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  if (isVisible(node)) {\n    var nodeName = node.nodeName.toLowerCase();\n    var isFocusableElement = // Focusable element\n    ['input', 'select', 'textarea', 'button'].includes(nodeName) || // Editable element\n    node.isContentEditable || // Anchor with href element\n    nodeName === 'a' && !!node.getAttribute('href'); // Get tabIndex\n\n    var tabIndexAttr = node.getAttribute('tabindex');\n    var tabIndexNum = Number(tabIndexAttr); // Parse as number if validate\n\n    var tabIndex = null;\n\n    if (tabIndexAttr && !Number.isNaN(tabIndexNum)) {\n      tabIndex = tabIndexNum;\n    } else if (isFocusableElement && tabIndex === null) {\n      tabIndex = 0;\n    } // Block focusable if disabled\n\n\n    if (isFocusableElement && node.disabled) {\n      tabIndex = null;\n    }\n\n    return tabIndex !== null && (tabIndex >= 0 || includePositive && tabIndex < 0);\n  }\n\n  return false;\n}\n\nexport function getFocusNodeList(node) {\n  var includePositive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var res = _toConsumableArray(node.querySelectorAll('*')).filter(function (child) {\n    return focusable(child, includePositive);\n  });\n\n  if (focusable(node, includePositive)) {\n    res.unshift(node);\n  }\n\n  return res;\n}\nvar lastFocusElement = null;\n/** @deprecated Do not use since this may failed when used in async */\n\nexport function saveLastFocusNode() {\n  lastFocusElement = document.activeElement;\n}\n/** @deprecated Do not use since this may failed when used in async */\n\nexport function clearLastFocusNode() {\n  lastFocusElement = null;\n}\n/** @deprecated Do not use since this may failed when used in async */\n\nexport function backLastFocusNode() {\n  if (lastFocusElement) {\n    try {\n      // 元素可能已经被移动了\n      lastFocusElement.focus();\n      /* eslint-disable no-empty */\n    } catch (e) {// empty\n    }\n    /* eslint-enable no-empty */\n\n  }\n}\nexport function limitTabRange(node, e) {\n  if (e.keyCode === 9) {\n    var tabNodeList = getFocusNodeList(node);\n    var lastTabNode = tabNodeList[e.shiftKey ? 0 : tabNodeList.length - 1];\n    var leavingTab = lastTabNode === document.activeElement || node === document.activeElement;\n\n    if (leavingTab) {\n      var target = tabNodeList[e.shiftKey ? tabNodeList.length - 1 : 0];\n      target.focus();\n      e.preventDefault();\n    }\n  }\n}","map":{"version":3,"names":["_toConsumableArray","isVisible","focusable","node","includePositive","arguments","length","undefined","nodeName","toLowerCase","isFocusableElement","includes","isContentEditable","getAttribute","tabIndexAttr","tabIndexNum","Number","tabIndex","isNaN","disabled","getFocusNodeList","res","querySelectorAll","filter","child","unshift","lastFocusElement","saveLastFocusNode","document","activeElement","clearLastFocusNode","backLastFocusNode","focus","e","limitTabRange","keyCode","tabNodeList","lastTabNode","shiftKey","leavingTab","target","preventDefault"],"sources":["C:/Capstone_Project/testing/src/main/frontend/node_modules/rc-util/es/Dom/focus.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport isVisible from './isVisible';\nfunction focusable(node) {\n  var includePositive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (isVisible(node)) {\n    var nodeName = node.nodeName.toLowerCase();\n    var isFocusableElement =\n    // Focusable element\n    ['input', 'select', 'textarea', 'button'].includes(nodeName) ||\n    // Editable element\n    node.isContentEditable ||\n    // Anchor with href element\n    nodeName === 'a' && !!node.getAttribute('href');\n    // Get tabIndex\n    var tabIndexAttr = node.getAttribute('tabindex');\n    var tabIndexNum = Number(tabIndexAttr);\n    // Parse as number if validate\n    var tabIndex = null;\n    if (tabIndexAttr && !Number.isNaN(tabIndexNum)) {\n      tabIndex = tabIndexNum;\n    } else if (isFocusableElement && tabIndex === null) {\n      tabIndex = 0;\n    }\n    // Block focusable if disabled\n    if (isFocusableElement && node.disabled) {\n      tabIndex = null;\n    }\n    return tabIndex !== null && (tabIndex >= 0 || includePositive && tabIndex < 0);\n  }\n  return false;\n}\nexport function getFocusNodeList(node) {\n  var includePositive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var res = _toConsumableArray(node.querySelectorAll('*')).filter(function (child) {\n    return focusable(child, includePositive);\n  });\n  if (focusable(node, includePositive)) {\n    res.unshift(node);\n  }\n  return res;\n}\nvar lastFocusElement = null;\n/** @deprecated Do not use since this may failed when used in async */\nexport function saveLastFocusNode() {\n  lastFocusElement = document.activeElement;\n}\n/** @deprecated Do not use since this may failed when used in async */\nexport function clearLastFocusNode() {\n  lastFocusElement = null;\n}\n/** @deprecated Do not use since this may failed when used in async */\nexport function backLastFocusNode() {\n  if (lastFocusElement) {\n    try {\n      // 元素可能已经被移动了\n      lastFocusElement.focus();\n      /* eslint-disable no-empty */\n    } catch (e) {\n      // empty\n    }\n    /* eslint-enable no-empty */\n  }\n}\n\nexport function limitTabRange(node, e) {\n  if (e.keyCode === 9) {\n    var tabNodeList = getFocusNodeList(node);\n    var lastTabNode = tabNodeList[e.shiftKey ? 0 : tabNodeList.length - 1];\n    var leavingTab = lastTabNode === document.activeElement || node === document.activeElement;\n    if (leavingTab) {\n      var target = tabNodeList[e.shiftKey ? tabNodeList.length - 1 : 0];\n      target.focus();\n      e.preventDefault();\n    }\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}