{"ast":null,"code":"var _jsxFileName = \"C:\\\\Capstone_Project\\\\testing\\\\src\\\\main\\\\frontend\\\\src\\\\pages\\\\ProfileModify.js\",\n    _s = $RefreshSig$();\n\nimport NavBar from \"../components/NavBar\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport styled from \"styled-components\";\nimport useInput from \"../hooks/useInput\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport Header from \"../components/Header\";\nimport Sidebar from \"../components/Sidebar\";\nimport { useState } from \"react\";\nimport { useRecoilValue, useRecoilState, useResetRecoilState } from \"recoil\";\nimport { userState, memberState } from \"../recoil/atom\";\nimport { useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProfileModify = () => {\n  _s();\n\n  const [user, setUser] = useRecoilState(userState);\n  const navigate = useNavigate();\n\n  const validatePhone = phone => /010-\\d{3,4}-\\d{4}/.test(phone) ? true : false;\n\n  const validatePwd = pwd2 => pwd2 === pwd ? true : false;\n\n  const validateEmail = email => /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i.test(email) ? true : false;\n\n  const [email, emailChange, setEmail, emailValid] = useInput(user.email, validateEmail);\n  const [name, nameChange, setName] = useInput(user.name);\n  const [pwd, pwdChange, setPwd] = useInput(\"\");\n  const [pwd2, pwd2Change, setPwd2, pwdValid] = useInput(\"\", validatePwd);\n  const [phone, phoneChange, setPhone, phoneValid] = useInput(user.phone, validatePhone);\n\n  const handleProfile = () => {\n    const modifyData = {\n      email: email,\n      name: name,\n      pwd: pwd,\n      phone: phone\n    };\n    axios.post(`/api/member/modify/${user.id}`, modifyData).then(function (response) {\n      // 응답 처리하기\n      console.log(response);\n      setEmail(\"\");\n      setName(\"\");\n      setPwd(\"\");\n      setPhone(\"\");\n      alert(\"다시 로그인해주세요.\");\n      navigate('/login');\n    }).catch(function (error) {\n      console.log(error);\n      alert(\"회원가입 실패\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(InputWrapper, {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          error: !emailValid,\n          helperText: emailValid ? \"\" : \"올바른 이메일을 형식을 입력하세요\",\n          id: \"outlined-basic\",\n          label: \"\\uC774\\uBA54\\uC77C\",\n          variant: \"outlined\",\n          fullWidth: true,\n          value: email,\n          onChange: emailChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(InputWrapper, {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-basic\",\n          label: \"\\uC774\\uB984\",\n          variant: \"outlined\",\n          fullWidth: true,\n          value: name,\n          onChange: nameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(InputWrapper, {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          id: \"outlined-password-input\",\n          label: \"\\uC0C8\\uB85C\\uC6B4 \\uBE44\\uBC00\\uBC88\\uD638\",\n          type: \"password\",\n          autoComplete: \"current-password\",\n          fullWidth: true,\n          value: pwd,\n          onChange: pwdChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(InputWrapper, {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          error: !pwdValid,\n          helperText: pwdValid ? \"\" : \"비밀번호가 일치하지 않습니다\",\n          id: \"outlined-password-input\",\n          label: \"\\uC0C8\\uB85C\\uC6B4 \\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",\n          type: \"password\",\n          autoComplete: \"current-password\",\n          fullWidth: true,\n          value: pwd2,\n          onChange: pwd2Change\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(InputWrapper, {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          error: !phoneValid,\n          helperText: phoneValid ? \"\" : \"올바른 휴대폰 번호를 입력하세요 ex) 010-1234-5678\",\n          id: \"outlined-basic\",\n          label: \"\\uD734\\uB300\\uD3F0 \\uBC88\\uD638\",\n          variant: \"outlined\",\n          fullWidth: true,\n          value: phone,\n          onChange: phoneChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(InputWrapper, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          fullWidth: true,\n          size: \"large\",\n          onClick: () => {\n            handleProfile();\n            navigate(\"/profile\");\n          },\n          children: \"\\uD504\\uB85C\\uD544 \\uC218\\uC815\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ProfileModify, \"QxQml/fQbblV1kHq8bppkPlt8LM=\", false, function () {\n  return [useRecoilState, useNavigate, useInput, useInput, useInput, useInput, useInput];\n});\n\n_c = ProfileModify;\nconst InputWrapper = styled.div`\n  max-width: 600px;\n  text-align: center;\n  margin: 30px auto;\n`;\n_c2 = InputWrapper;\nconst BtnWrapper = styled.div`\n  margin-top: 20px;\n`;\nexport default ProfileModify; //        axios\n//        .post(\"/api/member/modify/${member_id}\", modifyData)\n//        .then(function (response) {\n//            // 응답 처리하기\n//            console.log(response);\n//            setEmail(\"\");\n//            setName(\"\");\n//            setPwd(\"\");\n//            setPhone(\"\");\n//            alert(\"프로필 수정 성공\");\n//        })\n//        .catch(function (error) {\n//            console.log(error);\n//            alert(\"프로필 수정 실패\");\n//        });\n//    };\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ProfileModify\");\n$RefreshReg$(_c2, \"InputWrapper\");","map":{"version":3,"names":["NavBar","TextField","Button","styled","useInput","axios","useNavigate","Header","Sidebar","useState","useRecoilValue","useRecoilState","useResetRecoilState","userState","memberState","useEffect","ProfileModify","user","setUser","navigate","validatePhone","phone","test","validatePwd","pwd2","pwd","validateEmail","email","emailChange","setEmail","emailValid","name","nameChange","setName","pwdChange","setPwd","pwd2Change","setPwd2","pwdValid","phoneChange","setPhone","phoneValid","handleProfile","modifyData","post","id","then","response","console","log","alert","catch","error","InputWrapper","div","BtnWrapper"],"sources":["C:/Capstone_Project/testing/src/main/frontend/src/pages/ProfileModify.js"],"sourcesContent":["import NavBar from \"../components/NavBar\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport styled from \"styled-components\";\nimport useInput from \"../hooks/useInput\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport Header from \"../components/Header\";\nimport Sidebar from \"../components/Sidebar\";\nimport { useState } from \"react\";\nimport { useRecoilValue, useRecoilState, useResetRecoilState } from \"recoil\";\nimport { userState, memberState} from \"../recoil/atom\";\nimport { useEffect } from \"react\";\n\nconst ProfileModify = () => {\n\n    const [user, setUser] = useRecoilState(userState);\n    const navigate = useNavigate();\n    const validatePhone = (phone) =>\n      /010-\\d{3,4}-\\d{4}/.test(phone) ? true : false;\n\n    const validatePwd = (pwd2) => (pwd2 === pwd ? true : false);\n\n    const validateEmail = (email) =>\n      /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i.test(\n      email\n      )\n      ? true\n      : false;\n\n    const [email, emailChange, setEmail, emailValid] = useInput(\n      user.email,\n      validateEmail\n    );\n\n    const [name, nameChange, setName] = useInput(user.name);\n    const [pwd, pwdChange, setPwd] = useInput(\"\");\n    const [pwd2, pwd2Change, setPwd2, pwdValid] = useInput(\"\", validatePwd);\n    const [phone, phoneChange, setPhone, phoneValid] = useInput(\n    user.phone,\n    validatePhone\n    );\n\n    const handleProfile = () => {\n\n        const modifyData = {\n            email: email,\n            name: name,\n            pwd: pwd,\n            phone: phone,\n        };\n\n\n\n        axios\n          .post(`/api/member/modify/${user.id}`, modifyData)\n          .then(function (response) {\n            // 응답 처리하기\n            console.log(response);\n            setEmail(\"\");\n            setName(\"\");\n            setPwd(\"\");\n            setPhone(\"\");\n            alert(\"다시 로그인해주세요.\");\n                    navigate('/login');\n\n\n\n          })\n          .catch(function (error) {\n            console.log(error);\n            alert(\"회원가입 실패\");\n          });\n        }\n\n  return (\n  <>\n  <Header />\n  <div>\n   <Sidebar />\n      <InputWrapper>\n        <TextField\n          error={!emailValid}\n          helperText={emailValid ? \"\" : \"올바른 이메일을 형식을 입력하세요\"}\n          id=\"outlined-basic\"\n          label=\"이메일\"\n          variant=\"outlined\"\n          fullWidth={true}\n          value={email}\n          onChange={emailChange}\n        />\n      </InputWrapper>\n      <InputWrapper>\n        <TextField\n          id=\"outlined-basic\"\n          label=\"이름\"\n          variant=\"outlined\"\n          fullWidth={true}\n          value={name}\n          onChange={nameChange}\n        />\n      </InputWrapper>\n      <InputWrapper>\n        <TextField\n          id=\"outlined-password-input\"\n          label=\"새로운 비밀번호\"\n          type=\"password\"\n          autoComplete=\"current-password\"\n          fullWidth={true}\n          value={pwd}\n          onChange={pwdChange}\n        />\n      </InputWrapper>\n      <InputWrapper>\n        <TextField\n          error={!pwdValid}\n          helperText={pwdValid ? \"\" : \"비밀번호가 일치하지 않습니다\"}\n          id=\"outlined-password-input\"\n          label=\"새로운 비밀번호 확인\"\n          type=\"password\"\n          autoComplete=\"current-password\"\n          fullWidth={true}\n          value={pwd2}\n          onChange={pwd2Change}\n        />\n      </InputWrapper>\n      <InputWrapper>\n        <TextField\n          error={!phoneValid}\n          helperText={\n            phoneValid\n              ? \"\"\n              : \"올바른 휴대폰 번호를 입력하세요 ex) 010-1234-5678\"\n          }\n          id=\"outlined-basic\"\n          label=\"휴대폰 번호\"\n          variant=\"outlined\"\n          fullWidth={true}\n          value={phone}\n          onChange={phoneChange}\n        />\n      </InputWrapper>\n      <InputWrapper>\n        <Button\n          variant=\"contained\"\n          fullWidth={true}\n          size=\"large\"\n          onClick={() => {\n            handleProfile();\n            navigate(\"/profile\");\n          }}\n        >\n          프로필 수정\n        </Button>\n      </InputWrapper>\n   </div>\n   </>\n  );\n};\n\nconst InputWrapper = styled.div`\n  max-width: 600px;\n  text-align: center;\n  margin: 30px auto;\n`;\n\nconst BtnWrapper = styled.div`\n  margin-top: 20px;\n`;\n\nexport default ProfileModify;\n\n//        axios\n//        .post(\"/api/member/modify/${member_id}\", modifyData)\n//        .then(function (response) {\n//            // 응답 처리하기\n//            console.log(response);\n//            setEmail(\"\");\n//            setName(\"\");\n//            setPwd(\"\");\n//            setPhone(\"\");\n//            alert(\"프로필 수정 성공\");\n//        })\n//        .catch(function (error) {\n//            console.log(error);\n//            alert(\"프로필 수정 실패\");\n//        });\n//    };"],"mappings":"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"},"metadata":{},"sourceType":"module"}