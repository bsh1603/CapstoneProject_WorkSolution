{"ast":null,"code":"var _jsxFileName = \"C:\\\\Capstone_Project\\\\testing\\\\src\\\\main\\\\frontend\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport styled from \"styled-components\";\nimport { useNavigate } from \"react-router-dom\";\nimport useInput from \"../hooks/useInput\";\nimport axios from \"axios\";\nimport { useSetRecoilState } from \"recoil\";\nimport { userState } from \"../recoil/atom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [email, emailChange, setEmail] = useInput(\"\");\n  const [pwd, pwdChange, setPwd] = useInput(\"\");\n  const setUser = useSetRecoilState(userState);\n\n  const handleLogin = async () => {\n    const loginData = {\n      email: email,\n      pwd: pwd\n    };\n    const response = await axios.post(\"/api/login\", loginData);\n    const teamId = await (await axios.get(`/api/member/myteam/${response.data.id}`)).data;\n    const user = {\n      id: response.data.id,\n      name: response.data.name,\n      admin: response.data.admin,\n      email: response.data.email,\n      phone: response.data.phone,\n      teamId: teamId\n    };\n    setUser(user);\n    setEmail(\"\");\n    setPwd(\"\");\n    localStorage.setItem(\"user\", JSON.stringify(user));\n    console.log(user);\n    alert(\"로그인 성공\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(LoginWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(Wrapper, {\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"outlined-basic\",\n        label: \"\\uC774\\uBA54\\uC77C\",\n        variant: \"outlined\",\n        fullWidth: true,\n        value: email,\n        onChange: emailChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"outlined-password-input\",\n        label: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n        type: \"password\",\n        autoComplete: \"current-password\",\n        fullWidth: true,\n        value: pwd,\n        onChange: pwdChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        fullWidth: true,\n        size: \"large\",\n        onClick: () => {\n          handleLogin();\n          navigate(\"/\");\n        },\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: [/*#__PURE__*/_jsxDEV(BtnWrapper, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          fullWidth: true,\n          size: \"large\",\n          onClick: () => navigate(\"/registermanager\"),\n          children: \"\\uB9E4\\uB2C8\\uC800 \\uD68C\\uC6D0\\uAC00\\uC785\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BtnWrapper, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          fullWidth: true,\n          size: \"large\",\n          onClick: () => navigate(\"/registerworker\"),\n          children: \"\\uC54C\\uBC14\\uC0DD \\uD68C\\uC6D0\\uAC00\\uC785\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"LPH1j3YiYNivntBD4s/PUboU0oU=\", false, function () {\n  return [useNavigate, useInput, useInput, useSetRecoilState];\n});\n\n_c = Login;\nconst LoginWrapper = styled.div``;\n_c2 = LoginWrapper;\nconst Wrapper = styled.div`\n  max-width: 500px;\n  text-align: center;\n  margin: 30px auto;\n`;\n_c3 = Wrapper;\nconst BtnWrapper = styled.div`\n  margin-top: 20px;\n`;\n_c4 = BtnWrapper;\nexport default Login;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"LoginWrapper\");\n$RefreshReg$(_c3, \"Wrapper\");\n$RefreshReg$(_c4, \"BtnWrapper\");","map":{"version":3,"names":["TextField","Button","styled","useNavigate","useInput","axios","useSetRecoilState","userState","Login","navigate","email","emailChange","setEmail","pwd","pwdChange","setPwd","setUser","handleLogin","loginData","response","post","teamId","get","data","id","user","name","admin","phone","localStorage","setItem","JSON","stringify","console","log","alert","LoginWrapper","div","Wrapper","BtnWrapper"],"sources":["C:/Capstone_Project/testing/src/main/frontend/src/pages/Login.js"],"sourcesContent":["import TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport styled from \"styled-components\";\nimport { useNavigate } from \"react-router-dom\";\nimport useInput from \"../hooks/useInput\";\nimport axios from \"axios\";\nimport { useSetRecoilState } from \"recoil\";\nimport { userState } from \"../recoil/atom\";\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const [email, emailChange, setEmail] = useInput(\"\");\n  const [pwd, pwdChange, setPwd] = useInput(\"\");\n  const setUser = useSetRecoilState(userState);\n\n  const handleLogin = async () => {\n    const loginData = { email: email, pwd: pwd };\n\n    const response = await axios.post(\"/api/login\", loginData);\n    const teamId = await (\n      await axios.get(`/api/member/myteam/${response.data.id}`)\n    ).data;\n    const user = {\n      id: response.data.id,\n      name: response.data.name,\n      admin: response.data.admin,\n      email: response.data.email,\n      phone: response.data.phone,\n      teamId: teamId,\n    };\n    setUser(user);\n    setEmail(\"\");\n    setPwd(\"\");\n    localStorage.setItem(\"user\", JSON.stringify(user));\n    console.log(user);\n    alert(\"로그인 성공\");\n  };\n\n  return (\n    <LoginWrapper>\n      <Wrapper>\n        <TextField\n          id=\"outlined-basic\"\n          label=\"이메일\"\n          variant=\"outlined\"\n          fullWidth={true}\n          value={email}\n          onChange={emailChange}\n        />\n      </Wrapper>\n\n      <Wrapper>\n        <TextField\n          id=\"outlined-password-input\"\n          label=\"비밀번호\"\n          type=\"password\"\n          autoComplete=\"current-password\"\n          fullWidth={true}\n          value={pwd}\n          onChange={pwdChange}\n        />\n      </Wrapper>\n\n      <Wrapper>\n        <Button\n          variant=\"contained\"\n          fullWidth={true}\n          size=\"large\"\n          onClick={() => {\n            handleLogin();\n            navigate(\"/\");\n          }}\n        >\n          로그인\n        </Button>\n      </Wrapper>\n\n      <Wrapper>\n        <BtnWrapper>\n          <Button\n            variant=\"outlined\"\n            fullWidth={true}\n            size=\"large\"\n            onClick={() => navigate(\"/registermanager\")}\n          >\n            매니저 회원가입\n          </Button>\n        </BtnWrapper>\n        <BtnWrapper>\n          <Button\n            variant=\"outlined\"\n            fullWidth={true}\n            size=\"large\"\n            onClick={() => navigate(\"/registerworker\")}\n          >\n            알바생 회원가입\n          </Button>\n        </BtnWrapper>\n      </Wrapper>\n    </LoginWrapper>\n  );\n};\n\nconst LoginWrapper = styled.div``;\nconst Wrapper = styled.div`\n  max-width: 500px;\n  text-align: center;\n  margin: 30px auto;\n`;\n\nconst BtnWrapper = styled.div`\n  margin-top: 20px;\n`;\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}